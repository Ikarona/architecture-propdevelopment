# Проверочный лист безопасности для бизнес-систем PropDevelopment

> В этом документе собраны ключевые разделы и пункты проверки безопасности для основных бизнес-систем компании.  
> Ниже сначала приведено обоснование выбранных разделов, затем сам чеклист в формате Markdown-таблицы.

---

## Обоснование выбора разделов

1. **Общие сведения о системе**  
   – Всегда начинаем проверку с базовых данных: что за система, кто отвечает, на каком окружении развёрнута, какие технологии используются. Это помогает быстро сориентироваться и понять «площадку».

2. **Аутентификация и авторизация**  
   – Поскольку в системах PropDevelopment происходят финансовые операции (онлайн-сделки), оплата ЖКУ, доступ к личным данным, крайне важно убедиться, что никто не может войти чужим аккаунтом. Проверяем наличие централизованного IAM (AD/LDAP), MFA/2FA, RBAC и политику управления сессиями.

3. **Шифрование**  
   – Узлы, где хранятся и передаются персональные и финансовые данные, должны быть зашифрованы. Проверяем TLS на уровне транспорта, шифрование «на диске» (TDE или column-level), а также защиту бэкапов и управление ключами.

4. **Безопасность API**  
   – У компании есть внешние и внутренние API (интеграции с УК, госорганами, платёжными системами). Необходимо проверить наличие API-гейта, стандарты аутентификации (OAuth 2.0 / JWT), валидацию входных данных, rate limiting.

5. **Управление доступом к данным (Data Governance)**  
   – Установить, что данные классифицированы (public/confidential/secret), корректно сегрегированы в БД, что аналитики видят анонимизированные данные, а DevOps не имеют доступа к таблицам с ПД.  

6. **Логирование и мониторинг**  
   – Проверяем, что все ключевые события (вход/выход, изменение ПД, вызовы API, ошибки) логируются и хранятся в централизованном SIEM; что есть алерты по подозрительной активности.

7. **Управление уязвимостями и патч-менеджмент**  
   – Регулярное сканирование SAST/DAST, проведение pentest, наличие SLA на исправление уязвимостей, политика обновления ОС и middleware.

8. **Резервное копирование и восстановление**  
   – Как часто делаются бэкапы (БД, конфигурации), где хранятся, зашифрованы ли, кто отвечает за тестирование восстановлений.

9. **Разграничение окружений (Dev/Test/Prod)**  
   – Проверяем, что данные Prod не попадают в Test/Dev; что тестовые окружения изолированы сетевым сегментированием; что в Test отсутствуют реальные банковские данные.

10. **Интеграции с внешними сервисами**  
    – Обращаем внимание на граничный интерфейс с УК, платёжными шлюзами и госорганами. Все ли вызовы защищены, есть ли подписанные контракты, ограничения по объёму данных.

11. **Соответствие законодательству и политикам**  
    – Убеждаемся, что ведётся РОПД (Реестр Обрабатываемых Персональных Данных), соблюдены нормы ФЗ 152 (ПД), ФЗ 54 (чек-лист, фискализация), ФЗ 214/144 (онлайн-сделки).

---

## 1. Общие сведения о системе

| №  | Пункт проверки                                                                                                   | Описание / Примечания                                                                                                      | Статус (Да/Нет/НП*) | Комментарий / Ответственные            |
|----|------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------|---------------------|----------------------------------------|
| 1  | **Название системы**                                                                                              | Указываем точное имя: <br>- `client-mart-app`<br>- `client-crm-app`<br>- `tenant-core-app` и т. д.                             | Да                  | Присутствуют в архитектурной документации |
| 2  | **Описание функциональности**                                                                                     | Кратко: <br>- `client-mart-app` — онлайн-сделка (бронирование, оплата) <br>- `client-crm-app` — CRM клиентов <br>- `tenant-core-app` — мобильное ЖКУ. | Да                  | Описание есть в техническом задании     |
| 3  | **Ответственный за безопасность (Имя, роль)**                                                                      | Указать, кто в команде отвечает за ИБ: <br>- Иван Иванов (ИБ-специалист) <br>- Пётр Петров (DevOps)                            | Нет                 | Требует уточнения у CTO                 |
| 4  | **Система окружения (Prod/Test/Dev)**                                                                              | Указать, где развёрнута система: <br>- `client-mart-app` — Production и Staging <br>- `tenant-core-app` — Production           | Да                  | Уточнить у DevOps-инженера              |
| 5  | **Используемые технологии (ЯП, фреймворки, БД)**                                                                   | Пример: <br>- `client-mart-app`: Java Spring Boot, PostgreSQL <br>- `client-crm-app`: .NET Core, MS SQL <br>- `tenant-core-app`: Kotlin, PostgreSQL | Да                  | Документация архитектуры                |

> \* «НП» означает «Не применимо», если пункт не относится к проверяемой системе.

---

## 2. Аутентификация и авторизация

| №   | Пункт проверки                                                                                                                       | Описание / Примечания                                                                                                                                                               | Статус (Да/Нет/НП) | Комментарий / Ответственные                 |
|-----|--------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------|---------------------------------------------|
| 2.1 | Используется централизованная система аутентификации (Active Directory / LDAP)                                                        | Проверяем, что для входа пользователей (Менеджер, Бизнес-аналитик, Бухгалтер, Аналитик BI) используется единственный AD/LDAP.                                                            | Да                | AD указан в диаграмме, требуется уточнить домен |
| 2.2 | Используются ли многофакторные методы (MFA / 2FA)                                                                                     | Если да, указать тип: SMS, TOTP, U2F. <br>Если нет — есть ли план внедрения.                                                                                                         | Нет               | Требует подтверджения у ИБ-специалиста        |
| 2.3 | Реализована RBAC-модель (роли/привилегии)                                                                                             | Какие роли существуют: Клиент, Собственник, Менеджер, Аналитик BI, DevOps, ИБ-специалист, Администратор.                                                                               | Да                | Указать список ролей и уровень доступа в AD   |
| 2.4 | Есть ли политика блокировки при неудачных попытках входа                                                                               | Количество попыток, период блокировки, уведомления ИБ-специалисту.                                                                                                                     | Нет               | Требует доработки, нет описания в документации |
| 2.5 | Сессии пользователей защищены (HTTPS, Secure Cookies, SameSite)                                                                        | Проверить, что куки сессии передаются только по HTTPS, проставлены флаги Secure и HttpOnly, SameSite.                                                                                 | Да                | Frontend и API настроены на HTTPS (сертификат валидный) |
| 2.6 | Хранение и защита паролей сотрудников и пользователей системы                                                                         | Используется ли хеширование bcrypt/argon2, есть ли соль, политика минимальной длины пароля (8+ символов).                                                                             | Нет               | Нужно уточнить у разработчиков CRM и DevOps    |

---

## 3. Шифрование

| №   | Пункт проверки                                                                                                | Описание / Примечания                                                                                                                              | Статус (Да/Нет/НП) | Комментарий / Ответственные                |
|-----|-----------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------|-------------------|---------------------------------------------|
| 3.1 | Все внешние соединения защищены TLS (HTTPS для фронтенда, TLS для межсервисного взаимодействия)                 | Проверить, что все endpoints открыты только по HTTPS (TLS 1.2+), что сертификаты валидны, нет «самоподписных» для публичного доступа.                | Да                | На всех публичных сервисах везде HTTPS       |
| 3.2 | Шифрование данных на уровне БД                                                                                 | Используется ли Transparent Data Encryption (TDE) или column-level encryption для таблиц с ПД (email, банковские данные).                           | Нет               | PostgreSQL настроен без TDE, требуется доработка |
| 3.3 | Шифрование бэкапов                                                                                             | Проверить, что бэкапы БД шифруются (AES 256) и хранятся off-site; ключи хранятся в HSM/Sealed Secrets.                                              | Нет               | Бэкапы выгружаются в S3, но не шифруются на этапе создания |
| 3.4 | Управление сертификатами и ключами                                                                              | Кто отвечает за обновление TLS-сертификатов, JWT-ключей; используется ли автоматический ротационный механизм (например, cert-manager, AWS KMS)?      | Нет               | Нужно внедрить cert-manager                 |
| 3.5 | Шифрование логов (если в логах содержатся ПД)                                                                   | Если в логах есть PII, проверить, что логи шифруются на диске и доступ к ним ограничен (ELK/Splunk, TLS-шифрование при передаче, ACL).               | Нет               | Требует доработки: часть логов пишется в открытый ELK |

---

## 4. Безопасность API

| №   | Пункт проверки                                                                                                                          | Описание / Примечания                                                                                                                                                                                                                  | Статус (Да/Нет/НП) | Комментарий / Ответственные                 |
|-----|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------|----------------------------------------------|
| 4.1 | Используется API-Gateway / прокси с авторизацией и валидацией запросов                                                                     | Например, Kong, Apigee, AWS API Gateway. Проверить, что весь внешний трафик идёт через один фронт, где настроены rate limiting, CORS, проверка входных данных.                                                                       | Нет               | Отсутствует централизованный gateway, планируется внедрить Kong |
| 4.2 | Используются ли токены (OAuth 2.0 / JWT)                                                                                                   | Указать, какой протокол (Bearer, JWT). Как токен генерируется, где хранится public key для проверки подписи.                                                                                                                          | Да                | Для клиентских приложений используется JWT от `auth-service-1` |
| 4.3 | Проверка входных параметров (Input Validation)                                                                                            | Проверить, что все REST-методы принимают DTO с валидацией (Spring Validation, FluentValidation), защищены от SQL-инъекций, XSS.                                                                                                        | Нет               | Нет единой библиотеки валидации, требуется приведение к standard |
| 4.4 | Логи запросов и ошибок API                                                                                                               | Логируются ли успешно выполненные и неуспешные запросы (HTTP 200, 4xx, 5xx)  с деталями (userId, endpoint, время)? Есть ли централизованная система (ELK, Grafana)?                                                                   | Нет               | Часть логируется в локальные файлы, нет единого SIEM |
| 4.5 | Защита от DDoS и rate limiting                                                                                                            | Проверить, что настроены ограничения запросов: по IP, по токену, есть throttle.                                                                                                                                                        | Нет               | Не настроено, требуется конфигурация API-gateway |
| 4.6 | Версионирование API                                                                                                                      | Есть ли версия в URL (`/v1/…`, `/v2/…`) или в заголовках. Чтобы при обновлениях не ломались старые клиенты.                                                                                                                            | Да                | Все публичные API имеют prefix `/api/v1/*`     |

---

## 5. Управление доступом к данным (Data Governance)

| №   | Пункт проверки                                                                                                | Описание / Примечания                                                                                                                                                                                                 | Статус (Да/Нет/НП) | Комментарий / Ответственные       |
|-----|---------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------|------------------------------------|
| 5.1 | Категоризация данных (Public / Internal / Confidential / Secret)                                               | Проверить, что таблицы и объекты (схемы) в БД помечены метками (Label, Tag) с указанием категории.                                                                                                                     | Нет               | Не реализовано, необходимо ввести теги    |
| 5.2 | Data Masking / Anonymization                                                                                   | В BI/Analytics проверить, что аналитики видят анонимизированную информацию (замаскированы ФИО/телефон).                                                                                                                | Нет               | Пока не настроено, требуется ETL-скрипт      |
| 5.3 | Контроль доступа на уровне БД (GRANT/REVOKE)                                                                    | Проверить, какие роли (DBA, Analyst, AppUser) существуют в БД, какие схемы и таблицы доступны, нет ли прямых `GRANT * on public.*`.                                                                                       | Нет               | Нужно создать роли и разграничить права     |
| 5.4 | Управление полномочиями ETL-процессов                                                                           | Указать, кто запускает ETL-джобы (ServiceAccount из AD), проверить, есть ли ограничение доступа к ним, нет ли «широких» прав `UPDATE *` у ETL-пользователей.                                                           | Нет               | Требует проектирования и внедрения         |
| 5.5 | Политика хранения данных                                                                                       | Сроки хранения для разных категорий: <br>- ПД клиентов — 5 лет <br>- Логи — 1 год <br>- Аналитика — 3 года                                                                                                               | Нет               | Нужно утвердить политику архивирования      |

---

## 6. Логирование и мониторинг

| №   | Пункт проверки                                                                                                  | Описание / Примечания                                                                                                                                                                                                     | Статус (Да/Нет/НП) | Комментарий / Ответственные                  |
|-----|-----------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------|-----------------------------------------------|
| 6.1 | Логируются ли события входа/выхода (Login/Logout), изменения конфигураций, ошибки                               | Проверить, что подаются логи: <br>- Успешные/неудачные входы <br>- Изменения пользовательских данных <br>- Ошибки API <br>- Изменения конфигураций <br> Логи связаны с userId и timestamp.                                     | Нет               | Часть логируется в локальные файлы, нет централизованного решения |
| 6.2 | Установлены ли алерты при подозрительной активности                                                             | Например, три неудачные попытки входа за 5 мин → оповещение ИБ-специалиста; необычная активность в API (> 200% baseline).                                                                                               | Нет               | Нужно внедрить SIEM / ELK / Grafana Alerting   |
| 6.3 | Срок хранения логов                                                                                             | Проверить, что логи хранятся не менее 90 дней (для комплаенса).                                                                                                                                                             | Нет               | В текущей конфигурации логи хранятся только в локальных файлах 30 дней |
| 6.4 | Разграничение доступа к логам                                                                                     | Убедиться, что только ИБ-специалист и администраторы имеют доступ к аудит-логам (ACL).                                                                                                                                      | Нет               | Не настроено, требуется доразграничение ACL   |
| 6.5 | Интеграция с SIEM                                                                                                 | Проверить, есть ли централизованное хранилище логов (ELK, Splunk), есть ли playbook / runbook для реагирования на инциденты.                                                                                              | Нет               | В процессе выбора решения (Elastic Stack vs Splunk).      |

---

## 7. Управление уязвимостями и патч-менеджмент

| №   | Пункт проверки                                                                                           | Описание / Примечания                                                                                                                                                                                                                                | Статус (Да/Нет/НП) | Комментарий / Ответственные        |
|-----|----------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------|-------------------------------------|
| 7.1 | Регулярность обновления ОС (Dev/Test/Prod)                                                               | Установить: <br>- Обновления безопасности для Linux-серверов выкачиваются ежемесячно <br>- Критические патчи (CVSS >= 9) накатываются в течение 72 ч.                                                                                                                                     | Нет               | Нужно зафиксировать график патчей      |
| 7.2 | SAST/DAST сканирование                                                                                    | Перечислить инструменты: <br>- SonarQube (SAST, раз в неделю) <br>- Burp Suite (DAST, раз в квартал)                                                                                                                                                      | Нет               | На данный момент разовые проверки, нет непрерывного сканирования |
| 7.3 | Penetration Test                                                                                         | Частота: 2 раза в год (весна/осень). Кто выполняет: <br>- Внешняя компания «SecureAudit LLC».                                                                                                                                                                   | Нет               | Последний pentest был > 1 года назад     |
| 7.4 | SLA на устранение уязвимостей                                                                              | Политика: <br>- Критические (CVSS >= 9) — устранить за 72 ч <br>- Средние (CVSS 5-8) — устранить за 30 дней <br>- Низкие (CVSS < 5) — устранить при следующем релизе                                                              | Нет               | Требует согласования с командами разработки |

---

## 8. Резервное копирование и восстановление

| №   | Пункт проверки                                                                                   | Описание / Примечания                                                                                                                                                                                                | Статус (Да/Нет/НП) | Комментарий / Ответственные         |
|-----|--------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------|--------------------------------------|
| 8.1 | Частота бэкапов (Daily/Weekly/Monthly)                                                             | Для PostgreSQL (CRM, tenant-core-db): <br>- Ежедневный полный бэкап утром в 02:00 <br>- Ежечасные дифференциальные бэкапы логов <br>- Бэкап конфигураций (Vault, ConfigMaps) раз в неделю                                  | Нет               | Текущая частота — еженедельная, требуется перейти на ежедневную |
| 8.2 | Хранение бэкапов                                                                                 | Где хранятся: AWS S3 (bucket “propdev-backups”), off-site (S3 Glacier) <br>Убедиться, что доступ к этому бакету через IAM с MFA                                                                                         | Нет               | Бэкапы хранятся в S3, но без MFA и без Glacier |
| 8.3 | Тестирование восстановления (Recovery)                                                             | Есть ли регламент восстановления: <br>- Тест в Pre-prod раз в квартал <br>- Восстановление таблиц с 1 июля 2024 г. было успешным                                                                                         | Да                | Тест восстановления был 15.05.2025, прошёл успешно |
| 8.4 | Шифрование бэкапов                                                                                | Проверить, что бэкапы PostgreSQL шифруются AES 256 при выгрузке (opendg + AWS SSE).                                                                                                                                    | Нет               | Бэкапы пока не шифруются, нужно внедрить MFA и SSE |

---

## 9. Разграничение окружений (Dev/Test/Prod)

| №   | Пункт проверки                                                                                       | Описание / Примечания                                                                                                                                                                             | Статус (Да/Нет/НП) | Комментарий / Ответственные         |
|-----|------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------|--------------------------------------|
| 9.1 | Сегрегация данных Prod / Test / Dev                                                                   | Убедиться, что Prod-данные не используются в Test/Dev. В Test окружении все ПД анонимизированы (Data anonymization).                                                                                 | Нет               | Сейчас в Test используются реальные данные, требуется маскирование |
| 9.2 | Отдельные учётные записи для Prod/Test/Dev                                                           | Проверить, что есть разные AD-группы: <br>- `propdev-prod`<br>- `propdev-test`<br>- `propdev-dev`, и у них разный доступ к ресурсам.                                                                  | Нет               | Все используют одну учётную запись, нужно разграничить |
| 9.3 | Сетевая изоляция (VPC, Subnet, Firewall) между окружениями                                            | Проверить, что Prod, Staging и Dev разнесены на разные подсети и имеют разные правила firewall/ACL, чтобы Dev не мог читать Prod.                                                                    | Нет               | Dev/Test и Prod в одной подсети, требуется сегрегация |

---

## 10. Интеграции с внешними сервисами

| №    | Пункт проверки                                                                                                   | Описание / Примечания                                                                                                                                                                                                                            | Статус (Да/Нет/НП) | Комментарий / Ответственные                 |
|------|------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------|----------------------------------------------|
| 10.1 | Наличие единой политики безопасности для всех внешних API (УК, госорганов, платёжные системы)                    | Все интеграции проходят через единый шлюз (API-Gateway) с TLS, IP-whitelisting и проверкой JWT.                                                                                                                                                      | Нет               | Интеграций много, но нет общего шлюза, нужно внедрить |
| 10.2 | Описание контракта API (OpenAPI/Swagger), есть ли валидация запросов                                               | Проверить, что для всех partner-API есть строгое описание в OpenAPI/Swagger, где сторонние системы либо отправляют PII, либо получают данные только по фильтрам (например, только по `residenceId`).                                            | Нет               | Частично описано, нужно доработать все интеграции |
| 10.3 | Минимизация передаваемых данных (Least Privilege)                                                                  | Убедиться, что внешнему API передаются только необходимые атрибуты (hashedResidentId, email – частично маскируется).                                                                                                                                 | Нет               | Сейчас некоторые API отправляют ФИО и адрес, требуется сверка контрактов |
| 10.4 | Хранение ключей/токенов для доступа к партнёрским сервисам, как они защищены                                       | Проверить, что ключи хранятся в Vault/Sealed Secrets, есть ограничение доступа, ротация каждые 6 месяцев.                                                                                                                                           | Нет               | На данный момент API-ключи лежат в ConfigMaps без шифрования |
| 10.5 | Механизм аудита вызовов внешних API (логирование запросов/ответов, подсчёт квот)                                 | Логи всех вызовов партнерских API должны попадать в централизованную систему (ELK) и храниться не менее 6 месяцев.                                                                                                                                   | Нет               | Не настроено централизованное логирование, только локальные логи |
| 10.6 | Защита каналов (mutual TLS, IP white-listing)                                                                      | Проверить, что партнёры используют mTLS, либо по крайней мере TLS + проверка clientCert.                                                                                                                                                             | Нет               | Пока связи строятся на базовом HTTPS, требуется перейти на mTLS |
| 10.7 | Обработка ошибок и fallback                                                                                       | Если партнёрское API («Оплата ЖКУ», «Домофон») недоступно, система должна кэшировать запросы либо уведомлять УК для ручной обработки.                                                                                                              | Нет               | Нет единого механизма кеширования, заявлено в плане работ   |

---

## 11. Соответствие законодательству и политикам

| №    | Пункт проверки                                                                                 | Описание / Примечания                                                                                                                                                                                                            | Статус (Да/Нет/НП) | Комментарий / Ответственные                 |
|------|-----------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------|----------------------------------------------|
| 11.1 | Наличие Реестра Обрабатываемых Персональных Данных (РОПД)                                      | Обязательно согласно ФЗ 152. Проверить, что ведётся актуальный РОПД (список всех таблиц и систем, где хранятся ПД), и он хранится в защищённом виде.                                                                                 | Нет               | РОПД ведётся, но не в едином месте, нужно централизовать  |
| 11.2 | Соответствие требованиям ФЗ 152 (политика конфиденциальности, согласие на обработку ПД)        | Проверить, что во всех формах согласие на обработку ПД запрашивается — «Я согласен на обработку ПД». Политика конфиденциальности размещена и постоянно актуализируется.                                                             | Нет               | Политика есть, но формы согласия не всегда выводятся пользователю |
| 11.3 | Соответствие онлайн-кассе (ФЗ 54)                                                             | Для онлайн-покупок проверить, генерируются ли электронные чеки, есть ли интеграция с фискальным оператором.                                                                                                                        | Да                | Для online-сделок используется «Контур.Эльба» (соответствует ФЗ 54) |
| 11.4 | Соответствие ФЗ 214/144 (онлайн-сделки с недвижимостью)                                        | Убедиться, что онлайн-система хранит договоры и подтверждения сессий (CRC), хранение подписи электронной цифровой подписи (ЭЦП) согласуется с требованиями законодательства.                                                     | Нет               | Требуется доработка: сейчас документы хранятся в S3 без ЭЦП   |
| 11.5 | Наличие регламентов и инструкций по реагированию на инциденты (Incident Response Plan, IRP)   | Проверить, что есть зафиксированные playbook / runbook для реагирования на взлом, включённые контакты ответственных, есть шаблоны уведомлений надзорных органов (Роскомнадзор).                                                  | Нет               | IRP есть в черновике, но не утверждён топ-менеджером         |
  
